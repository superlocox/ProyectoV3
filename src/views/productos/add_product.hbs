<div class="row">
    <div class="col-md-4 mx-auto">
        <div class="card">
            <div class="card-header">
                Registro de Producto
            </div>


            <style>
                .image-preview{
                width: 300px;
                min-height: 100px;
                border: 2px solid #dddddd;
                margin-top: 15px;

                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                color: #cccccc;


                }

                .image-preview__image{
                display: none;
                width: 100%;
                }

                input[type="file"]{
                    display: none;
                }

               
                .btns{
                
                    height: 30px;
                    width: 300px;
                    margin: auto;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    border: 1px solid black;
                }
                .btn-secondary{
                    
                    margin: auto;
                    
                    justify-content: center;
                    align-items: center;
                }

                
            </style>


            <div class="card-body">
                <form action="/productos/add_product" method="POST" autocomplete="off" enctype="multipart/form-data" >
                
                   <div class="input-group mb-3">
                              
                                    <input type="file" name="image"  id="inputGroupFile02">
                                    <label class="btns" for="inputGroupFile02" aria-describedby="inputGroupFileAddon02">Elige la Imagen</label>
                                    <div class="image-preview" id="imagePreview">
                                        <img src="" alt="Image Preview" class="image-preview__image">
                                        <span class="image-preview__default-text">Imagen</span>

                                    </div>
                                    
                               
                    </div>

                    <script>
                        const inpFile = document.getElementById("inputGroupFile02");
                        const previewContainer = document.getElementById("imagePreview");
                        const previewImage = previewContainer.querySelector(".image-preview__image");
                        const previewDefaultText = previewContainer.querySelector(".image-preview__default-text");

                        inpFile.addEventListener("change", function(){
                            const file = this.files[0];

                            if (file){
                                const reader = new FileReader();

                                previewDefaultText.style.display = "none";
                                previewImage.style.display = "block";

                                reader.addEventListener("load", function(){
                                    console.log(this);
                                    previewImage.setAttribute("src", this.result);
                                    

                                });

                                reader.readAsDataURL(file);
                            } else{
                                previewDefaultText.style.display = null;
                                previewImage.style.display = null;
                                previewImage.setAttribute("src", "");
                            }

                            //console.log(file);

                        });

                    </script>

                    <div class="form-group">
                        <input type="text" class="form-control" name="nombre_producto" placeholder="Nombre del producto"
                            value="{{nombre_producto}}">
                    </div>

                    <div class="form-group">
                        <input type="text" class="form-control" name="descripcion_producto"
                            placeholder="Descripcion del producto" value="{{descripcion_producto}}">
                    </div>

                    <div class="form-group">
                        <input type="number" class="form-control" name="precio" placeholder="Precio del Producto"
                            value="{{precio}}">
                    </div>

                    <div class="form-group">
                        <input type="number" class="form-control" name="cantidad" placeholder="Cantidad"
                            value="{{cantidad}}">
                    </div>

                    <div class='form-group'>
                        <button class="btn btn-primary btn-block">
                        Reg√≠strar Producto
                    </button>
                    </div>

                    <div class='form-group'>
                        <a class="btn btn-secondary btn-block" href="/productos/articulos"><i class="fa fa-list-alt"></i>
                        Mostrar Lista de productos</a>
                    </div>
                </form>
                
            </div>
        </div>
    </div>
</div>